# KatelyaTV å…±äº«ä¸»æœºéƒ¨ç½²æŒ‡å—

## ğŸ¯ éƒ¨ç½²æ¦‚è¿°

æœ¬æŒ‡å—ä¸“ä¸ºå…±äº«ä¸»æœºç¯å¢ƒè®¾è®¡ï¼Œç‰¹åˆ«é€‚ç”¨äºæœ‰ç£ç›˜ç©ºé—´é™åˆ¶ï¼ˆ125MBï¼‰çš„ä¸»æœºã€‚é‡‡ç”¨ GitHub Actions é¢„ç¼–è¯‘ + é™æ€æ–‡ä»¶éƒ¨ç½²çš„æ–¹å¼ã€‚

## ğŸ“‹ æœåŠ¡å™¨ç¯å¢ƒ

- **ä¸»æœº**: server8.webhostmost.com:2323
- **ç”¨æˆ·**: igaqjbsf
- **ç³»ç»Ÿ**: CentOS/CloudLinux 8 (x86_64)
- **Node.js**: æ”¯æŒå¤šç‰ˆæœ¬ (æ¨è 20.19.4)
- **ç£ç›˜é™åˆ¶**: 125MB
- **éƒ¨ç½²ç›®å½•**: ~/public_html/
- **åŸŸå**: https://wwwwwww.sylu.net

## ğŸš€ éƒ¨ç½²æ­¥éª¤

### 1. GitHub ä»“åº“é…ç½®

1. **Fork é¡¹ç›®åˆ°ä½ çš„ GitHub è´¦æˆ·**
2. **é…ç½® GitHub Secrets**ï¼ˆå¯é€‰ï¼Œç”¨äºè‡ªåŠ¨éƒ¨ç½²ï¼‰:
   ```
   SSH_HOST: server8.webhostmost.com
   SSH_USER: igaqjbsf
   SSH_PASSWORD: .WyI7w2UC-0pl5,
   APP_PASSWORD: ä½ çš„åº”ç”¨è®¿é—®å¯†ç 
   ```

### 2. è§¦å‘æ„å»º

æ¨é€ä»£ç åˆ° main åˆ†æ”¯æˆ–æ‰‹åŠ¨è§¦å‘ GitHub Actionsï¼š
- è®¿é—® GitHub ä»“åº“çš„ Actions é¡µé¢
- é€‰æ‹© "Build and Deploy KatelyaTV" å·¥ä½œæµ
- ç‚¹å‡» "Run workflow"

### 3. ä¸‹è½½æ„å»ºäº§ç‰©

1. æ„å»ºå®Œæˆåï¼Œåœ¨ Actions é¡µé¢ä¸‹è½½ `katelyatv-deployment` æ–‡ä»¶
2. è§£å‹å¾—åˆ° `katelyatv-deploy.tar.gz`

### 4. æ‰‹åŠ¨éƒ¨ç½²åˆ°æœåŠ¡å™¨

#### æ–¹æ³•ä¸€ï¼šä½¿ç”¨éƒ¨ç½²è„šæœ¬ï¼ˆæ¨èï¼‰

```bash
# 1. ä¸Šä¼ æ–‡ä»¶åˆ°æœåŠ¡å™¨
scp -P 2323 katelyatv-deploy.tar.gz igaqjbsf@server8.webhostmost.com:~/

# 2. è¿æ¥æœåŠ¡å™¨
ssh -p 2323 igaqjbsf@server8.webhostmost.com

# 3. è¿è¡Œå¿«é€Ÿéƒ¨ç½²è„šæœ¬
chmod +x quick-deploy.sh
./quick-deploy.sh
```

#### æ–¹æ³•äºŒï¼šæ‰‹åŠ¨éƒ¨ç½²

```bash
# 1. è¿æ¥æœåŠ¡å™¨
ssh -p 2323 igaqjbsf@server8.webhostmost.com

# 2. å¤‡ä»½ç°æœ‰æ–‡ä»¶ï¼ˆå¦‚æœæœ‰ï¼‰
if [ -d "public_html" ] && [ "$(ls -A public_html)" ]; then
    cp -r public_html public_html_backup
fi

# 3. è§£å‹éƒ¨ç½²æ–‡ä»¶
tar -xzf katelyatv-deploy.tar.gz -C public_html/

# 4. è®¾ç½®æƒé™
chmod -R 755 public_html/
find public_html/ -type f -exec chmod 644 {} \;

# 5. æ¸…ç†
rm -f katelyatv-deploy.tar.gz
```

## âš™ï¸ é…ç½®è¯´æ˜

### ç¯å¢ƒé…ç½®

é¡¹ç›®å·²é¢„é…ç½®ä¸ºä¸ªäººä½¿ç”¨ç‰ˆæœ¬ï¼š
- **å­˜å‚¨ç±»å‹**: LocalStorageï¼ˆæ— éœ€æ•°æ®åº“ï¼‰
- **ç”¨æˆ·æ³¨å†Œ**: å·²ç¦ç”¨
- **æˆäººå†…å®¹è¿‡æ»¤**: é»˜è®¤å¼€å¯
- **PWA**: æ”¯æŒå®‰è£…ä¸ºæ¡Œé¢åº”ç”¨

### è§†é¢‘æºé…ç½®

1. **ä½¿ç”¨é»˜è®¤é…ç½®**: é¡¹ç›®åŒ…å«ç¤ºä¾‹é…ç½®
2. **è‡ªå®šä¹‰é…ç½®**: ç¼–è¾‘ `public_html/config.json`

```json
{
  "cache_time": 7200,
  "api_site": {
    "your_source": {
      "api": "https://your-api.com/provide/vod",
      "name": "ä½ çš„è§†é¢‘æº",
      "detail": "https://your-site.com",
      "is_adult": false
    }
  }
}
```

### è®¿é—®å¯†ç è®¾ç½®

åœ¨ GitHub Secrets ä¸­è®¾ç½® `APP_PASSWORD`ï¼Œæˆ–åœ¨æ„å»ºåæ‰‹åŠ¨ä¿®æ”¹é…ç½®ã€‚

## ğŸ”§ ä¼˜åŒ–ç‰¹æ€§

### æ„å»ºä¼˜åŒ–
- âœ… é™æ€æ–‡ä»¶å¯¼å‡º
- âœ… Gzip å‹ç¼©
- âœ… å›¾ç‰‡ä¼˜åŒ–
- âœ… ä»£ç åˆ†å‰²
- âœ… Tree Shaking
- âœ… CSS/JS å‹ç¼©

### éƒ¨ç½²ä¼˜åŒ–
- âœ… æ–‡ä»¶å¤§å°æ£€æŸ¥ï¼ˆ<100MBï¼‰
- âœ… è‡ªåŠ¨æƒé™è®¾ç½®
- âœ… å¤‡ä»½æœºåˆ¶
- âœ… é”™è¯¯å›æ»š

## ğŸ“Š ç£ç›˜ç©ºé—´ç®¡ç†

### ç©ºé—´ä½¿ç”¨æƒ…å†µ
- **åº”ç”¨æ–‡ä»¶**: ~30-50MB
- **ç¼“å­˜æ–‡ä»¶**: ~10-20MB
- **é…ç½®æ–‡ä»¶**: <1MB
- **æ€»è®¡**: <80MBï¼ˆåœ¨125MBé™åˆ¶å†…ï¼‰

### ç©ºé—´ä¼˜åŒ–å»ºè®®
1. å®šæœŸæ¸…ç†æµè§ˆå™¨ç¼“å­˜
2. é¿å…ä¸Šä¼ å¤§å‹åª’ä½“æ–‡ä»¶
3. ä½¿ç”¨å¤–éƒ¨å›¾åºŠå­˜å‚¨å›¾ç‰‡

## ğŸ› ï¸ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **éƒ¨ç½²å¤±è´¥**
   ```bash
   # æ£€æŸ¥ç£ç›˜ç©ºé—´
   du -sh public_html/
   
   # æ£€æŸ¥æƒé™
   ls -la public_html/
   ```

2. **æ— æ³•è®¿é—®ç½‘ç«™**
   - æ£€æŸ¥ .htaccess æ–‡ä»¶æ˜¯å¦å­˜åœ¨
   - ç¡®è®¤ index.html åœ¨æ ¹ç›®å½•
   - æ£€æŸ¥æ–‡ä»¶æƒé™ï¼ˆ755/644ï¼‰

3. **è§†é¢‘æ— æ³•æ’­æ”¾**
   - æ£€æŸ¥ config.json é…ç½®
   - ç¡®è®¤è§†é¢‘æºå¯ç”¨æ€§
   - æ£€æŸ¥ç½‘ç»œè¿æ¥

### æ—¥å¿—æŸ¥çœ‹

```bash
# æŸ¥çœ‹éƒ¨ç½²æ—¥å¿—
cat public_html/build-info.txt

# æ£€æŸ¥æ–‡ä»¶ç»“æ„
ls -la public_html/
```

## ğŸ”„ æ›´æ–°éƒ¨ç½²

1. æ¨é€æ–°ä»£ç åˆ° GitHub
2. ç­‰å¾… Actions æ„å»ºå®Œæˆ
3. ä¸‹è½½æ–°çš„éƒ¨ç½²åŒ…
4. é‡å¤éƒ¨ç½²æ­¥éª¤

## ğŸ“± åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½
- ğŸ” å¤šæºèšåˆæœç´¢
- ğŸ“º é«˜æ¸…è§†é¢‘æ’­æ”¾
- â­ï¸ æ™ºèƒ½è·³è¿‡ç‰‡å¤´ç‰‡å°¾
- ğŸ¯ æ–­ç‚¹ç»­æ’­
- ğŸ“± å“åº”å¼è®¾è®¡

### ä¸ªäººä½¿ç”¨ä¼˜åŒ–
- ğŸ’¾ æœ¬åœ°å­˜å‚¨ï¼ˆæ— éœ€æ•°æ®åº“ï¼‰
- ğŸ”’ å¯†ç ä¿æŠ¤
- ğŸ¨ ä¸»é¢˜åˆ‡æ¢
- ğŸ“± PWA æ”¯æŒ
- ğŸš« æˆäººå†…å®¹è¿‡æ»¤

## ğŸŒ è®¿é—®åœ°å€

éƒ¨ç½²å®Œæˆåï¼Œè®¿é—®ï¼šhttps://wwwwwww.sylu.net

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚é‡é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š
1. GitHub Actions æ„å»ºæ—¥å¿—
2. æœåŠ¡å™¨éƒ¨ç½²æ—¥å¿—
3. æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯
4. ç½‘ç»œè¿æ¥çŠ¶æ€
